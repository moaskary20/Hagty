#!/bin/bash

# Script ูุชุดุบูู UmomiSubsectionsSeeder
# ููุตุฉ HAGTY - ุฅุถุงูุฉ ุจูุงูุงุช ููุฃูุณุงู ุงููุฑุนูุฉ ูู ุฃููููุชู

echo "๐คฑ ุจุฏุก ุชุดุบูู UmomiSubsectionsSeeder..."
echo "=================================="

# ุงูุชุญูู ูู ูุฌูุฏ ุงููุดุฑูุน
if [ ! -f "artisan" ]; then
    echo "โ ุฎุทุฃ: ูุฌุจ ุชุดุบูู ูุฐุง ุงูู script ูู ูุฌูุฏ ุงููุดุฑูุน"
    echo "ุงูุชูู ุฅูู ูุฌูุฏ ุงููุดุฑูุน ุฃููุงู: cd /var/www/Hagty"
    exit 1
fi

# ุชุญุฏูุซ autoload
echo "๐ฆ ุชุญุฏูุซ autoload..."
composer dump-autoload

# ุชุดุบูู ุงูู seeder
echo "๐ฑ ุชุดุบูู UmomiSubsectionsSeeder..."
php artisan db:seed --class=UmomiSubsectionsSeeder

# ุงูุชุญูู ูู ุงููุชูุฌุฉ
if [ $? -eq 0 ]; then
    echo "โ ุชู ุชุดุบูู ุงูู seeder ุจูุฌุงุญ!"
    echo ""
    echo "๐ ุงูุจูุงูุงุช ุงููุถุงูุฉ ููุฃูุณุงู ุงููุฑุนูุฉ:"
    echo "   ๐จโโ๏ธ ูุชุงุจุนุฉ ุงูุทุจูุจ - 3 ุฃุทุจุงุก ุฃูููุฉ ูุน ุชุฐููุฑุงุช ูุชูุจููุงุช"
    echo "   ๐ ุงูุนูุงูุฉ ุฃุณุจูุนูุงู - 3 ุฃุณุงุจูุน ูุน ูุตุงุฆุญ ูุชุญุฐูุฑุงุช"
    echo "   ๐ ุงุณุชุนุฏู ูุงุณุชูุจุงู... - ูุณุชูุฒูุงุช ูุญูุงุฆุจ ูููุงุฆู"
    echo ""
    echo "๐ ููููู ุงูุขู ุฒูุงุฑุฉ ููุญุฉ ุงูุชุญูู: /admin"
    echo "๐ฑ ุฃู ุชุตูุญ ูุณู ุฃููููุชู ูุงูุฃูุณุงู ุงููุฑุนูุฉ"
else
    echo "โ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุชุดุบูู ุงูู seeder"
    echo "๐ ุชุญูู ูู ุงูุณุฌูุงุช: tail -f storage/logs/laravel.log"
    exit 1
fi

echo ""
echo "๐ฏ ุชู ุงูุงูุชูุงุก! ุงูุฃูุณุงู ุงููุฑุนูุฉ ูู ุฃููููุชู ูููุฆุฉ ุจุงูุจูุงูุงุช ๐"
